from cmu_graphics import *
from PIL import Image
import os, pathlib

def openImage(fileName):
        return Image.open(os.path.join(pathlib.Path(__file__).parent,fileName))

#https://stackoverflow.com/questions/55446133/opening-multiple-images-on-pil-with-a-for-loop
def processImages(app, animal, direction): #direction is RIGHT or LEFT
     app.sprites = []
     for i in range(6):
          frame = Image.open('%s_FLY_%s/%s.png' % (animal, direction, i+1))
          sprite = CMUImage(frame)
          app.sprites.append(sprite)

def onAppStart(app):
    
    #app.sprites = []
    processImages(app,'BEE', 'RIGHT')
    app.spriteCounter = 0
    app.stepCounter = 0
    app.stepsPerSecond = 50

def onStep(app):
    app.stepCounter += 1
    if app.stepCounter>= 8:
        app.spriteCounter = (1 + app.spriteCounter) % len(app.sprites)
        app.stepCounter = 0 

def redrawAll(app):
    sprite = app.sprites[app.spriteCounter]
    drawImage(sprite,200, 200, align = 'center')

def main():
    runApp(width=400, height=400)

if __name__ == '__main__':
    main()